<?xml version="1.0" encoding="UTF-8"?>
<declared_type_set xmlns="urn:jaus:jsidl:1.0" name="PlatformClass"
  id="urn:jaus:jss:iop:MessageSet:PlatformClass" version="1.0">
  <declared_type_set_ref name="basicTypes"
    id="urn:jaus:jss:core:MessageSet:BasicTypes" version="1.0"/>
  <declared_type_set_ref name="advTypes"
    id="urn:jaus:jss:iop:MessageSet:AdvTypes" version="1.0"/>

  <message_def name="SetPlatformMode" message_id="FF20" is_command="true">
      <description xml:space="preserve">Sets the platform mode.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body">
          <record name="PlatformModeRec" optional="false">
              <fixed_field name="PlatformMode" optional="false" field_units="one" field_type="unsigned byte">
                  <value_set offset_to_lower_limit="false">
                      <value_range lower_limit="175" lower_limit_type="inclusive" upper_limit="255" upper_limit_type="inclusive"/>
                      <value_enum enum_index="0" enum_const="Standard_Operating"/>
                      <value_enum enum_index="1" enum_const="Training"/>
                      <value_enum enum_index="2" enum_const="Maintenance"/>
                  </value_set>
              </fixed_field>
          </record>
      </body>
      <footer name="Footer"/>
  </message_def>

  <message_def name="QueryPlatformMode" message_id="FF21" is_command="false">
      <description xml:space="preserve">Causes the service to issue a ReportPlatformMode message.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body"/>
      <footer name="Footer"/>
  </message_def>

  <message_def name="QuerySupportedPlatformModes" message_id="FF22" is_command="false">
      <description xml:space="preserve">Causes the service to issue a ReportSupportedPlatformModes message.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body"/>
      <footer name="Footer"/>
  </message_def>

  <message_def name="ReportPlatformMode" message_id="FF23" is_command="false">
      <description xml:space="preserve">Sent in response to a Query Platform Mode message.  Reports the current platform mode.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body">
          <record name="ReportPlatformModeRec" optional="false">
              <fixed_field name="PlatformMode" optional="false" field_units="one" field_type="unsigned byte">
                  <value_set offset_to_lower_limit="false">
                      <value_enum enum_index="0" enum_const="Standard_Operating"/>
                      <value_enum enum_index="1" enum_const="Training"/>
                      <value_enum enum_index="2" enum_const="Maintenance"/>
                  </value_set>
              </fixed_field>
              <fixed_field name="Status" optional="false" field_units="one" field_type="unsigned byte">
                  <value_set offset_to_lower_limit="false">
                      <value_enum enum_index="0" enum_const="Initializing"/>
                      <value_enum enum_index="1" enum_const="Active"/>
                      <value_enum enum_index="2" enum_const="Exiting"/>
                  </value_set>
              </fixed_field>
          </record>
      </body>
      <footer name="Footer"/>
  </message_def>

  <message_def name="ReportSupportedPlatformModes" message_id="FF24" is_command="false">
      <description xml:space="preserve">Sent in response to a Query Supported Platform Modes message.  Reports the support platform modes.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body">
          <list name="SupportedPlatformModesList" optional="false">
              <count_field min_count="0" max_count="255" field_type_unsigned="unsigned byte"/>
              <record name="PlatformModeRec" optional="false">
                  <fixed_field name="PlatformMode" optional="false" field_units="one" field_type="unsigned byte">
                      <value_set offset_to_lower_limit="false">
                          <value_range lower_limit="175" lower_limit_type="inclusive" upper_limit="255" upper_limit_type="inclusive"/>
                          <value_enum enum_index="0" enum_const="Standard_Operating"/>
                          <value_enum enum_index="1" enum_const="Training"/>
                          <value_enum enum_index="2" enum_const="Maintenance"/>
                      </value_set>
                  </fixed_field>
              </record>
          </list>
      </body>
      <footer name="Footer"/>
  </message_def>

  <message_def name="SetPlatformState" message_id="FF25" is_command="true">
      <description xml:space="preserve">Set the desired platform state for the service to realize.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body">
          <record name="PlatformStateRec" optional="false">
              <fixed_field name="PlatformState" optional="false" field_units="one" field_type="unsigned byte">
                  <value_set offset_to_lower_limit="false">
                      <value_enum enum_index="0" enum_const="Initialize"/>
                      <value_enum enum_index="1" enum_const="Operational"/>
                      <value_enum enum_index="2" enum_const="Shutdown"/>
                      <value_enum enum_index="3" enum_const="System_Abort"/>
                      <value_enum enum_index="4" enum_const="Emergency"/>
                      <value_enum enum_index="5" enum_const="Render_Useless"/>
                  </value_set>
              </fixed_field>
          </record>
      </body>
      <footer name="Footer"/>
  </message_def>

  <message_def name="QueryPlatformState" message_id="FF26" is_command="false">
      <description xml:space="preserve">Causes the service to issue a ReportPlatformState message.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body"/>
      <footer name="Footer"/>
  </message_def>

  <message_def name="ConfirmPlatformStateRequest" message_id="FF27" is_command="false">
      <description xml:space="preserve">Confirms that a platform state request has been received and has been/is being acted upon.  The result can be one of two things: Transitioning, meaning the service will attempt to transition into the commanded state; or Invalid, meaning there is no valid transition from the current state to the commanded state.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body">
          <record name="ConfirmPlatformStateRec" optional="false">
              <fixed_field name="PlatformState" optional="false" field_units="one" field_type="unsigned byte">
                  <value_set offset_to_lower_limit="false">
                      <value_enum enum_index="0" enum_const="Initialize"/>
                      <value_enum enum_index="1" enum_const="Operational"/>
                      <value_enum enum_index="2" enum_const="Shutdown"/>
                      <value_enum enum_index="3" enum_const="System_Abort"/>
                      <value_enum enum_index="4" enum_const="Emergency"/>
                      <value_enum enum_index="5" enum_const="Render_Useless"/>
                  </value_set>
              </fixed_field>
              <fixed_field name="ResponseCode" optional="false" field_units="one" field_type="unsigned byte">
                  <value_set offset_to_lower_limit="false">
                      <value_enum enum_index="0" enum_const="Transitioning"/>
                      <value_enum enum_index="1" enum_const="InvalidState"/>
                  </value_set>
              </fixed_field>
          </record>
      </body>
      <footer name="Footer"/>
  </message_def>

  <message_def name="ReportPlatformState" message_id="FF28" is_command="false">
      <description xml:space="preserve">Sent in response to a Query Platform State message.  Reports the current platform state, which may differ from the latest commanded platform state because of the automatic transitions to System Abort or to Operational from Initialize.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body">
          <record name="PlatformStateRec" optional="false">
              <fixed_field name="PlatformState" optional="false" field_units="one" field_type="unsigned byte">
                  <value_set offset_to_lower_limit="false">
                      <value_enum enum_index="0" enum_const="Initialize"/>
                      <value_enum enum_index="1" enum_const="Operational"/>
                      <value_enum enum_index="2" enum_const="Shutdown"/>
                      <value_enum enum_index="3" enum_const="System_Abort"/>
                      <value_enum enum_index="4" enum_const="Emergency"/>
                      <value_enum enum_index="5" enum_const="Render_Useless"/>
                  </value_set>
              </fixed_field>
          </record>
      </body>
      <footer name="Footer"/>
  </message_def>

  <message_def name="QueryUGVSummary" message_id="ED10" is_command="false">
      <description xml:space="preserve">This query requests a ReportUGVSummary message in response, allowing a client to request a summary report of health status.  The summary report is described in ReportHealthSummary.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body"/>
      <footer name="Footer"/>
  </message_def>
  <message_def name="UpdateUGVSummary" message_id="DD10" is_command="true">
      <description xml:space="preserve">This command requests that the HealthMonitor update its health report summary.  The way in which the health report summary is updated is implementation specific.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body"/>
      <footer name="Footer"/>
  </message_def>

  <message_def name="ReportUGVSummary" message_id="FD10" is_command="false">
      <description xml:space="preserve">ReportUGVSummary provides a simple summary of health status of the UGV to any requestor.  The summary contains a list of (NodeID, severityCode) pairs, in which the highest active severityCode is report for each node.  This list is preceded in the message by a single severity code for the UGV, which is the highest severity code reported by any node in the UGV.  This allows a HealthMonitor client to identify the nodes responsible for any UGV faults.</description>
      <header name="JAUSApplicationLayerHeader">
          <record name="HeaderRec" optional="false">
              <fixed_field name="MessageID" optional="false" field_units="one" field_type="unsigned short integer"/>
          </record>
      </header>
      <body name="Body">
          <sequence name="UGVHealthSummarySequence" optional="false">
            <record name="UGVSeverityRec" optional="false">
                <fixed_field name="severity" optional="false" field_units="one" field_type="unsigned byte">
                    <value_set offset_to_lower_limit="false">
                        <value_range lower_limit="0" lower_limit_type="inclusive" upper_limit="4" upper_limit_type="inclusive"/>
                        <value_enum enum_index="0" enum_const="NONE"/>
                        <value_enum enum_index="1" enum_const="INFO"/>
                        <value_enum enum_index="2" enum_const="WARN"/>
                        <value_enum enum_index="3" enum_const="ERR"/>
                        <value_enum enum_index="4" enum_const="FAIL"/>
                    </value_set>
                </fixed_field>
            </record>
             <list name="SeverityList" optional="false" interpretation="List of Node Severity Levels">
               <count_field min_count="0" max_count="255" field_type_unsigned="unsigned byte"/>
               <sequence name="SeveritySequence" optional="false">
               <record name="NodeID" optional="false">
                <fixed_field name="NodeID" optional="false" field_units="one" field_type="unsigned byte">
                  <value_set offset_to_lower_limit="false">
                    <value_range lower_limit="0" lower_limit_type="inclusive" upper_limit="255" upper_limit_type="inclusive"/>
                    <value_enum enum_index="0" enum_const="unassigned_invalid"/>
                    <value_enum enum_index="255" enum_const="component_broadcast"/>
                  </value_set>
                </fixed_field>
               </record>
               <record name="SeverityRec" optional="false">
                <fixed_field name="severity" optional="false" field_units="one" field_type="unsigned byte">
                  <value_set offset_to_lower_limit="false">
                    <value_range lower_limit="0" lower_limit_type="inclusive" upper_limit="4" upper_limit_type="inclusive"/>
                    <value_enum enum_index="0" enum_const="NONE"/>
                    <value_enum enum_index="1" enum_const="INFO"/>
                    <value_enum enum_index="2" enum_const="WARN"/>
                    <value_enum enum_index="3" enum_const="ERR"/>
                    <value_enum enum_index="4" enum_const="FAIL"/>
                  </value_set>  
                </fixed_field>
               </record>
              </sequence>
            </list>
          </sequence>
      </body>
      <footer name="Footer"/>
  </message_def>

</declared_type_set>
